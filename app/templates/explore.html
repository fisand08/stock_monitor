{% extends "base.html" %}
<!-- Start page; inherits from base.html -->
{% block content %}
<!-- Actual content of this page comes here: -->

<div class="section">
    {% if not current_user.is_anonymous %}
    <h3> Hallo, {{ current_user.username }} (eingeloggt)</h3>
    {% endif %}

    <h5> Title Section A </h5>
    <br>

    <h5>Portfolios</h5>
    <ul>
        {% for portfolio in portfolios %}
        <li>{{ portfolio.name }} - {{ portfolio.timestamp }} - {{ portfolio.user_id }} </li>
        {% endfor %}
    </ul>

    <h3>Transactions</h3>
    {% for transaction in transactions %}
        <div>{{transaction.action}} {{transaction.stock_id}} {{transaction.stock.abbreviation}} {{transaction.amount}} {{transaction.timestamp}} </div>
    {% endfor %}

    <br>
    <img src="{{ url_for('static', filename='img/stock_icon.png') }}", width="100", height="100">

</div>

<div class="section">

    <h5> Title Section B </h5>
    <h5>Stocks</h5>
    <ul>
        {% for stock in stocks %}
        <li>{{ stock.id }} - {{ stock.abbreviation }} - {{ stock.full_name }} - {{ stock.market }} - {{ stock.currency }}</li>
        {% endfor %}
    </ul>

    <h5>Stock Prices</h5>
    <ul>
        {% for stock_price in stock_prices %}
        <li>{{ stock_price.id }} - Stock ID: {{ stock_price.stock_id }} - Date: {{ stock_price.date }} - Price: {{ stock_price.current_price }} - Volume: {{ stock_price.current_volume }}</li>
        {% endfor %}
    </ul>

    <!-- Display Portfolio History Data for ID 1 -->
    <h5>Historical Values for Portfolio 1</h5>
    <ul>
        {% for history in historical_values_portfolio_1 %}
            <li>{{ history.timestamp }} - ${{ history.value }}</li>
        {% endfor %}
    </ul>
    
    <!-- Display Historical Values for Portfolio 2 -->
    <h5>Historical Values for Portfolio 2</h5>
    <ul>
        {% for history in historical_values_portfolio_2 %}
            <li>{{ history.timestamp }} - ${{ history.value }}</li>
        {% endfor %}
    </ul>

</div>


{% endblock %}
